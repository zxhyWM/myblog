<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>测试new - hhh[BINGO!]</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="">





    <meta name="description" content="Hadoop伪分布式集群部署前言下载链接  jdk-8u231-linux-x64.tar.gz 链接：https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1vNTHh4LzwXpqg82oDnG87A?pwd&#x3D;8zsh        提取码：8zsh   hadoop-3.3.1.tar.gz 清华源Index of &#x2F;apache&#x2F;hadoop&#x2F;common&#x2F;hadoop-3.3.1 (tsing">
<meta property="og:type" content="article">
<meta property="og:title" content="测试new">
<meta property="og:url" content="http://example.com/2023/04/08/%E6%B5%8B%E8%AF%95new/index.html">
<meta property="og:site_name" content="hhh[BINGO!]">
<meta property="og:description" content="Hadoop伪分布式集群部署前言下载链接  jdk-8u231-linux-x64.tar.gz 链接：https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1vNTHh4LzwXpqg82oDnG87A?pwd&#x3D;8zsh        提取码：8zsh   hadoop-3.3.1.tar.gz 清华源Index of &#x2F;apache&#x2F;hadoop&#x2F;common&#x2F;hadoop-3.3.1 (tsing">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135118951.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408133443793.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135232148.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135407369.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135614686.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408134141203.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408134515187.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135910207.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135949480.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408141432611.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408143211872.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408143556179.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408160438455.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408164945925.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408182947543.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408202753468.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408203327296.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408203706043.png">
<meta property="og:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408203753494.png">
<meta property="article:published_time" content="2023-04-08T12:47:07.000Z">
<meta property="article:modified_time" content="2023-04-08T12:53:15.881Z">
<meta property="article:author" content="zxhy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135118951.png">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">归档</a>
            
            <a class="navbar-item "
               href="/categories">分类</a>
            
            <a class="navbar-item "
               href="/categories/Music">音乐</a>
            
            <a class="navbar-item "
               href="/tags">标签</a>
            
            <a class="navbar-item "
               href="/about">关于</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="搜索" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="目录">
                    <i class="fa fa-list"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    
                    
                    
                    
                    <a class="navbar-item" href="#Hadoop伪分布式集群部署">1&nbsp;&nbsp;<b>Hadoop伪分布式集群部署</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#前言">1.1&nbsp;&nbsp;前言</a>
                    
                    
                    
                    <a class="navbar-item" href="#1-CentOS-7系统安装">1.2&nbsp;&nbsp;1.CentOS 7系统安装</a>
                    
                    
                    
                    <a class="navbar-item" href="#2-NAT网络设计与配置">1.3&nbsp;&nbsp;2.NAT网络设计与配置</a>
                    
                    
                    
                    <a class="navbar-item" href="#3-防火墙配置">1.4&nbsp;&nbsp;3.防火墙配置</a>
                    
                    
                    
                    <a class="navbar-item" href="#4-虚拟机网络访问">1.5&nbsp;&nbsp;4.虚拟机网络访问</a>
                    
                    
                    
                    <a class="navbar-item" href="#4-1虚拟机互联互通">1.5.1&nbsp;&nbsp;4.1虚拟机互联互通</a>
                    
                    
                    
                    <a class="navbar-item" href="#4-2虚拟机访问外网">1.5.2&nbsp;&nbsp;4.2虚拟机访问外网</a>
                    
                    
                    
                    <a class="navbar-item" href="#5-虚拟机SSH免密登录">1.6&nbsp;&nbsp;5.虚拟机SSH免密登录</a>
                    
                    
                    
                    <a class="navbar-item" href="#6-JDK环境配置">1.7&nbsp;&nbsp;6.JDK环境配置</a>
                    
                    
                    
                    <a class="navbar-item" href="#7-Hadoop环境配置">1.8&nbsp;&nbsp;7.Hadoop环境配置</a>
                    
                    
                    
                    <a class="navbar-item" href="#8-Hadoop集群设计与部署">1.9&nbsp;&nbsp;8.Hadoop集群设计与部署</a>
                    
                </div>
            </div>
            
            
            <a class="navbar-item" title="GitHub" target="_blank" rel="noopener" href="https://github.com/zxhyWM">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            测试new
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2023-04-08T12:47:07.000Z" itemprop="datePublished">4月 8 2023</time>
            
        </span>
        
        
        <span class="column is-narrow">
            
            
            23 分钟 读完 (约 3441 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h1 id="Hadoop伪分布式集群部署"><a href="#Hadoop伪分布式集群部署" class="headerlink" title="Hadoop伪分布式集群部署"></a>Hadoop伪分布式集群部署</h1><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>下载链接</p>
<blockquote>
<p>jdk-8u231-linux-x64.tar.gz</p>
<p>链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1vNTHh4LzwXpqg82oDnG87A?pwd=8zsh">https://pan.baidu.com/s/1vNTHh4LzwXpqg82oDnG87A?pwd=8zsh</a><br>        提取码：8zsh</p>
</blockquote>
<blockquote>
<p>hadoop-3.3.1.tar.gz</p>
<p>清华源<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-3.3.1/">Index of /apache/hadoop/common/hadoop-3.3.1 (tsinghua.edu.cn)</a></p>
</blockquote>
<blockquote>
<p>hadoop-eclipse-plugin-3.3.1.jar</p>
<p>链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1FrVyXD_lJlBi7m9paEPBlw?pwd=s2dm">https://pan.baidu.com/s/1FrVyXD_lJlBi7m9paEPBlw?pwd=s2dm</a><br>        提取码：s2dm</p>
</blockquote>
<blockquote>
<p>eclipse</p>
<p><a target="_blank" rel="noopener" href="https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2023-03/R/eclipse-java-2023-03-R-linux-gtk-x86_64.tar.gz&amp;mirror_id=105">Thank You for Downloading Eclipse | The Eclipse Foundation</a></p>
</blockquote>
<h3 id="1-CentOS-7系统安装"><a href="#1-CentOS-7系统安装" class="headerlink" title="1.CentOS 7系统安装"></a>1.CentOS 7系统安装</h3><p>本次hadoop伪分布式集群部署共用到三台虚拟机，一台主机master，两台从机slave。为了避免操作不必要的重复性，建议先配置一台主机，在进行克隆即可。</p>
<p>新建虚拟机，自定义安装</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135118951.png" class="" title="image-20230408135118951">

<p>选择稍后安装操作系统（如果不是第一次安装，直接选择安装ios的话，会跳过语言选择，直接英文环境）</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408133443793.png" class="" title="image-20230408133443793">

<p>选择centos7</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135232148.png" class="" title="image-20230408135232148">

<p>自己选择文件夹位置和命名</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135407369.png" class="" title="image-20230408135407369">

<p>处理器配置自定，宿主机性能高就高点，低就低点，处理器内核总数2差不多</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135614686.png" class="" title="image-20230408135614686">

<p>使用NAT模式，一直下一步即可。</p>
<p>创建完成后，开启虚拟机，选择中文环境。</p>
<p>更改三个位置</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408134141203.png" class="" title="image-20230408134141203">

<p>软件选择带GUI的服务器</p>
<p>安装位置点击完成即可</p>
<p>网络和主机名：主机名自行修改</p>
<p>返回开始安装</p>
<p>root密码可以简单点123456（点击左上角完成两次）</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408134515187.png" class="" title="image-20230408134515187">

<p>然后等待安装完成，不要忘了勾选许可证</p>
<h3 id="2-NAT网络设计与配置"><a href="#2-NAT网络设计与配置" class="headerlink" title="2.NAT网络设计与配置"></a>2.NAT网络设计与配置</h3><p>三台虚拟机的ip设计实例：</p>
<blockquote>
<p>master：192.168.150.70</p>
<p>slave1：192.168.150.71</p>
<p>slave2：192.168.150.72</p>
</blockquote>
<p>打开VMware中master中的虚拟网络编辑器</p>
<p>选择VMnet8查看NAT设置</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135910207.png" class="" title="image-20230408135910207">

<p>查看网卡</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408135949480.png" class="" title="image-20230408135949480">

<p>开启虚拟机，以root用户登录，或者自定义用户登录，再赋权限</p>
<p>更改master机的网络设置，个人觉得gedit操作更贴近Windows下的编辑方式，用不惯vim操作的可以试试</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit /etc/sysconfig/network-scripts/ifcfg-ens33</span><br></pre></td></tr></tbody></table></figure>

<p>修改两个地方，再添加网络信息</p>
<blockquote>
<p>BOOTPROTO=static</p>
<p>ONBOOT=yes</p>
</blockquote>
<p>最后添加自定的网络信息</p>
<blockquote>
<p>IPADDR=192.168.150.70（最后一个字节自定，前三位要与前一步虚拟网络配置中的相同）<br>        NETMASK=255.255.255.0<br>        GATEWAY=192.168.150.2（前一步nat设置里的一致）<br>        DNS1=192.168.150.2（与网卡相同）</p>
</blockquote>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408141432611.png" class="" title="image-20230408141432611">

<p>保存后退出，在终端输入指令</p>
<p>重启网卡服务</p>
<blockquote>
<p>systemctl restart network </p>
</blockquote>
<p>输入指令查看是否配置成功</p>
<blockquote>
<p>ifconfig</p>
</blockquote>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408143211872.png" class="" title="image-20230408143211872">

<p>配置成功</p>
<h3 id="3-防火墙配置"><a href="#3-防火墙配置" class="headerlink" title="3.防火墙配置"></a>3.防火墙配置</h3><p>五步设置</p>
<blockquote>
<p>firewall-cmd –state  // 查看防火墙状态  </p>
<p>systemctl stop firewalld.service   // 关闭防火墙  </p>
<p>firewall-cmd –state  // 再次查看防火墙状态  </p>
<p>systemctl disable firewalld.service  // 设置开机禁止启动防火墙  </p>
<p>systemctl status firewalld // 查看防火墙状态  </p>
</blockquote>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408143556179.png" class="" title="image-20230408143556179">

<p>配置完成后，关机master机，克隆出两台从机slave1、slave2克隆成功后再分别修改ip地址，由于是克隆的，现在的两台slave机的主机名还和master一样，修改主机名多种方法，示例一种</p>
<blockquote>
<p>gedit /etc/hostname</p>
</blockquote>
<p>在打开的文件里删掉原来的主机名，改成自定的主机名。修改完保存退出，重启虚拟机。</p>
<h3 id="4-虚拟机网络访问"><a href="#4-虚拟机网络访问" class="headerlink" title="4.虚拟机网络访问"></a>4.虚拟机网络访问</h3><h4 id="4-1虚拟机互联互通"><a href="#4-1虚拟机互联互通" class="headerlink" title="4.1虚拟机互联互通"></a>4.1虚拟机互联互通</h4><p>在三台虚拟机上修改网络节点映射</p>
<blockquote>
<p>gedit /etc/hosts</p>
</blockquote>
<p>三台虚拟机上同样的操作，在打开的文件中添加三台虚拟机的ip和主机名</p>
<blockquote>
<p>192.168.150.70 master<br>        192.168.150.71 slave1<br>        192.168.150.72 slave2</p>
</blockquote>
<p>修改完成后，再进行互联互通操作</p>
<p>为了不手动停止（ctrl+c），只测试互联三次</p>
<p>例如master机</p>
<blockquote>
<p>ping slave1 -c 3</p>
<p>ping slave2 -c 3</p>
</blockquote>
<p>不报错，测试成功</p>
<h4 id="4-2虚拟机访问外网"><a href="#4-2虚拟机访问外网" class="headerlink" title="4.2虚拟机访问外网"></a>4.2虚拟机访问外网</h4><p>就是能不能访问互联网，两种方式，ping或者在浏览器里搜索是否成功</p>
<p>例如测试连接百度三次</p>
<blockquote>
<p>ping <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> -c 3</p>
</blockquote>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408160438455.png" class="" title="image-20230408160438455">

<p>能够访问成功</p>
<h3 id="5-虚拟机SSH免密登录"><a href="#5-虚拟机SSH免密登录" class="headerlink" title="5.虚拟机SSH免密登录"></a>5.虚拟机SSH免密登录</h3><p>简单来说，ssh可以使一台虚拟机远程登录另一台虚拟机时不需要密码。对于本次Hadoop伪分布式集群分布部署，只要主机master能够实现对其自己以及两台从机slave的ssh即可</p>
<p>步骤：在master机上操作</p>
<blockquote>
<p>ssh-keygen -t rsa //生成新密钥，一路回车确认</p>
</blockquote>
<p>例如slave1的ssh配置</p>
<blockquote>
<p>ssh-copy-id slave1 //输入yes 以及slave1密码</p>
<p>ssh slave1 //测试是否能免密登录，成功的话，会看到master主机名变成了slave1，exit退出</p>
</blockquote>
<p>重复类似slave1的ssh配置，来配置slave2和自己</p>
<h3 id="6-JDK环境配置"><a href="#6-JDK环境配置" class="headerlink" title="6.JDK环境配置"></a>6.JDK环境配置</h3><p>centos7装机自带的jdk，所以先查找出，再删除，删除后再下载安装官网的jdk</p>
<p>以master机为例（==其他两台slave相同操作==），查找出Java的安装路径</p>
<blockquote>
<p>which java //查找自带的jdk</p>
</blockquote>
<blockquote>
<p>ls -lr 上一行结果 </p>
<p>ls -lrt 上一行结果</p>
</blockquote>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408164945925.png" class="" title="image-20230408164945925">

<p>这就是Java的安装路径</p>
<blockquote>
<p>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.262.b10-1.el7.x86_64/jre/bin/java</p>
</blockquote>
<p>卸载centos自带的jdk</p>
<blockquote>
<p>rpm -qa | grep java //出现的结果都删除</p>
<p>rpm -e –nodeps 一行的结果 //卸载一行一行的来</p>
</blockquote>
<p>对于其他两台slave，自带的jdk都一样，只执行rpm -e –nodeps删除命令即可</p>
<p>下载jdk-8u231-linux-x64.tar.gz</p>
<blockquote>
<p>链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1vNTHh4LzwXpqg82oDnG87A?pwd=8zsh">https://pan.baidu.com/s/1vNTHh4LzwXpqg82oDnG87A?pwd=8zsh</a><br>        提取码：8zsh</p>
</blockquote>
<p>将文件上传到虚拟机中，可以通过远程登录软件（例如WinSCPPortable）、VMware自带的共享文件夹操作（最好加入到开机挂载，这样不用每次添加文件夹）、安装了VMware Tools可以直接从桌面拖到虚拟机内（有时候会造成文件损坏，重启或者重新安装一下VMware Tools）、在已经联网的虚拟机内下载</p>
<p>四种方法随便都行，个人使用了共享文件夹方式</p>
<p>占位：以后再写</p>
<p>自定文件存放地址，以本人配置为例，在/opt下新建目录/hadoop，用来放置hadoop、jdk</p>
<blockquote>
<p>mkdir /opt/hadoop</p>
</blockquote>
<p>上传文件之后解压缩，并重命名文件夹，方便之后的指令输入</p>
<blockquote>
<p>tar zxvf jdk-8u231-linux-x64.tar.gz所在路径 -C /opt/hadoop</p>
</blockquote>
<blockquote>
<p>mv jdk1.8.0_231 jdk1.8</p>
</blockquote>
<p>修改系统环境变量==（三台都要）==</p>
<blockquote>
<p>gedit /etc/profile //用于设置系统级的环境变量和启动程序，在这个文件下配置会对所有用户生效。</p>
</blockquote>
<p>在最后添加</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME=/opt/hadoop/jdk1<span class="hljs-number">.8</span></span><br><span class="line">JRE_HOME=/opt/hadoop/jdk1<span class="hljs-number">.8</span>/jre</span><br><span class="line">PATH=$PATH:$JAVA_HOME/<span class="hljs-built_in">bin</span>:$JRE_HOME/<span class="hljs-built_in">bin</span></span><br><span class="line">CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</span><br></pre></td></tr></tbody></table></figure>

<p>应用变量（只要修改了配置文件，不应用变量是不会成功的）</p>
<blockquote>
<p>source /etc/profile</p>
</blockquote>
<p>修改bashrc文件</p>
<blockquote>
<p>gedit <del>/.bashrc //用户级的位于</del>/.bashrc，仅对当前用户生效。</p>
</blockquote>
<p>在最后添加</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/opt/hadoop/jdk1<span class="hljs-number">.8</span></span><br><span class="line">export JRE_HOME=$JAVA_HOME/jre</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/<span class="hljs-built_in">bin</span>:$JRE_HOME/<span class="hljs-built_in">bin</span></span><br><span class="line">export CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib</span><br></pre></td></tr></tbody></table></figure>

<p>应用变量</p>
<blockquote>
<p>source ~/.bashrc</p>
</blockquote>
<p>查看java版本，有的话就是配置成功</p>
<blockquote>
<p>java -version</p>
</blockquote>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408182947543.png" class="" title="image-20230408182947543">

<h3 id="7-Hadoop环境配置"><a href="#7-Hadoop环境配置" class="headerlink" title="7.Hadoop环境配置"></a>7.Hadoop环境配置</h3><p>下载hadoop-3.3.1.tar.gz</p>
<blockquote>
<p>清华源<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-3.3.1/">Index of /apache/hadoop/common/hadoop-3.3.1 (tsinghua.edu.cn)</a></p>
</blockquote>
<p>和上一步下载解压jdk的步骤一样</p>
<p>上传文件之后解压缩，并重命名文件夹，方便之后的指令输入</p>
<blockquote>
<p>tar zxvf hadoop-3.3.1.tar.gz所在路径 -C /opt/hadoop</p>
</blockquote>
<blockquote>
<p>mv hadoop-3.3.1 hadoop3.3.1</p>
</blockquote>
<p>修改系统环境变量==（三台都要）==</p>
<blockquote>
<p>gedit /etc/profile</p>
</blockquote>
<p>在最后添加</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export HDFS_NAMENODE_USER=root</span><br><span class="line">export HDFS_DATANODE_USER=root</span><br><span class="line">export HDFS_SECONDARYNAMENODE_USER=root</span><br><span class="line">export YARN_RESOURCEMANAGER_USER=root</span><br><span class="line">export YARN_NODEMANAGER_USER=root</span><br></pre></td></tr></tbody></table></figure>

<p>应用变量（只要修改了配置文件，不应用变量是不会成功的）</p>
<blockquote>
<p>source /etc/profile</p>
</blockquote>
<p>修改bashrc文件</p>
<blockquote>
<p>gedit <del>/.bashrc //用户级的位于</del>/.bashrc，仅对当前用户生效。</p>
</blockquote>
<p>在最后添加</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME=/opt/hadoop/hadoop3<span class="hljs-number">.3</span><span class="hljs-number">.1</span></span><br><span class="line">export PATH=$HADOOP_HOME/<span class="hljs-built_in">bin</span>:$HADOOP_HOME/sbin:$PATH</span><br><span class="line">export HADOOP_MAPRED_HOME=$HADOOP_HOME</span><br><span class="line">export HADOOP_COMMON_HOME=$HADOOP_HOME</span><br><span class="line">export HADOOP_HDFS_HOME=$HADOOP_HOME</span><br><span class="line">export YARN_HOME=$HADOOP_HOME</span><br><span class="line">export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native</span><br><span class="line">export HADOOP_INSTALL=$HADOOP_HOME</span><br></pre></td></tr></tbody></table></figure>

<p>应用变量</p>
<blockquote>
<p>source ~/.bashrc</p>
</blockquote>
<h3 id="8-Hadoop集群设计与部署"><a href="#8-Hadoop集群设计与部署" class="headerlink" title="8.Hadoop集群设计与部署"></a>8.Hadoop集群设计与部署</h3><p>至此，jdk和hadoop的环境变量配置完毕，接下来配置hadoop文件</p>
<p>先在/opt/hadoop/hadoop3.3.1下新建几个目录（为什么？纯粹是后面报错发现是没有目录，现在穿越回来建目录！！！）</p>
<blockquote>
<p>cd /opt/hadoop/hadoop3.3.1/</p>
<p>mkdir /tmp</p>
<p>mkdir /tmp/dfs</p>
<p>mkdir /tmp/dfs/name</p>
<p>mkdir /tmp/dfs/data</p>
<p>mkdir /logs</p>
</blockquote>
<p>进入配置目录配置文件，共需配置六个文件（core-site.xml、hdfs-site.xml、mapred-site.xml、yarn-site.xml、hadoop-env.sh、workers）</p>
<blockquote>
<p>cd /opt/hadoop/hadoop3.3.1/etc/hadoop</p>
</blockquote>
<p>配置core-site.xml</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">	&lt;!-- 文件系统地址，代码中设置连接配置时要用 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;hdfs://master:<span class="hljs-number">9000</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- 临时存放数据的目录 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;hadoop.tmp.<span class="hljs-built_in">dir</span>&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;/opt/hadoop/hadoop3<span class="hljs-number">.3</span><span class="hljs-number">.1</span>/tmp&lt;/value&gt;</span><br><span class="line">		&lt;description&gt;Abase <span class="hljs-keyword">for</span> other temporary dorectories.&lt;/description&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">&lt;/configuration&gt;	</span><br></pre></td></tr></tbody></table></figure>

<p>配置hdfs-site.xml</p>
<p>本次master只是作为名字节点，不作为数据节点，dfs.replication一般设为3，但如果slave节点少于3，则等于slave节点数量+master节点，或只是slave节点数量，要与前面slaves相对应</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">	&lt;!-- NameNode存储元数据信息的路径，实际工作中，一般先确定磁盘的挂载目录，然后多个目录用，进行分割   --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:<span class="hljs-number">9870</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- 是个client参数，即node level参数，需要在每台datanode上设置 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;<span class="hljs-number">3</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- 保存FsImage镜像的目录，作用是存放hadoop的名称节点namenode里的metadata --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;dfs.namenode.name.<span class="hljs-built_in">dir</span>&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;file:/opt/hadoop/hadoop3<span class="hljs-number">.3</span><span class="hljs-number">.1</span>/tmp/dfs/name&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- 存放HDFS文件系统数据文件的目录，作用是存放hadoop的数据节点datanode里的多个数据块 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;dfs.datanode.data.<span class="hljs-built_in">dir</span>&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;file:/opt/hadoop/hadoop3<span class="hljs-number">.3</span><span class="hljs-number">.1</span>/tmp/dfs/data&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">&lt;/configuration&gt;	</span><br></pre></td></tr></tbody></table></figure>

<p>配置mapred-site.xml</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">	&lt;!-- 取值local、classic或yarn其中之一，如果不是yarn，则不会使用yarn集群来实现资源的分配 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- 定义历史服务器的地址和端口，通过历史服务器查看已经运行完的Mapreduce作业记录 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:<span class="hljs-number">10020</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- 定义历史服务器web应用访问的地址和端口 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:<span class="hljs-number">19888</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">&lt;/configuration&gt;	</span><br></pre></td></tr></tbody></table></figure>

<p>配置yarn-site.xml</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">	&lt;!-- 通过该配置项，用户可以自定义一些服务，例如Map-Reduce的shuffle功能就是采用这种方式实现的，这样就可以在NodeManager上扩展自己的服务 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- RM提供NodeManager的地址。NodeManager通过该地址向RM汇报心跳，领取任务等 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:<span class="hljs-number">8031</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- ResourceManager（以下简称RM） 提供客户端访问的地址。客户端通过该地址向RM提交应用程序，杀死应用程序等 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:<span class="hljs-number">8032</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- RM提供给ApplicationMaster的访问地址。ApplicationMaster同通过该地址向RM申请资源、释放资源等 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:<span class="hljs-number">8030</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- RM对web服务提供地址。用户可通过该地址在浏览器中查看集群各类信息 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:<span class="hljs-number">8088</span>&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- 是否启用日志聚集功能 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;true&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">    &lt;!-- 日志服务器的地址 --&gt;</span><br><span class="line">	&lt;<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">		&lt;name&gt;yarn.log.server.url&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;http://master:<span class="hljs-number">19888</span>/jobhistory/logs/&lt;/value&gt;</span><br><span class="line">	&lt;/<span class="hljs-built_in">property</span>&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>配置hadoop-env.sh，在最后添加</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/opt/hadoop/jdk1<span class="hljs-number">.8</span></span><br></pre></td></tr></tbody></table></figure>

<p>配置workers，添加两台从机的主机名</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></tbody></table></figure>

<p>修改完成之后，如果另外两台slave机上还没有hadoop，将master机上的hadoop3.3.1压缩后传送到slave上</p>
<p>如果已经有的话，传送这六个文件替换原来的文件</p>
<p>为了简单方便，两台slave机上hadoop位置和master机上相同</p>
<p>打压缩包方式：</p>
<p>master机上压缩hadoop3.3.1文件（在/opt/hadoop下）</p>
<blockquote>
<p>tar -zcf ./hadoop-master.tar.gz ./hadoop3.3.1</p>
</blockquote>
<p>master机传送压缩包到slave</p>
<blockquote>
<p>scp ./hadoop-master.tar.gz slave1:/opt/hadoop</p>
<p>scp ./hadoop-master.tar.gz slave2:/opt/hadoop</p>
</blockquote>
<p>分别在两台slave上进入到压缩包目录（/opt/hadoop）解压</p>
<blockquote>
<p>tar zxvf hadoop-master.tar.gz -C ./</p>
</blockquote>
<p>传送六个文件方式：</p>
<p>在master机/opt/hadoop/hadoop3.3.1/etc/hadoop下，以传送给slave1为例</p>
<blockquote>
<p>scp core-site.xml slave1:/opt/hadoop/hadoop3.3.1/etc/hadoop</p>
<p>scp hdfs-site.xml slave1:/opt/hadoop/hadoop3.3.1/etc/hadoop</p>
<p>scp mapred-site.xml slave1:/opt/hadoop/hadoop3.3.1/etc/hadoop</p>
<p>scp yarn-site.xml slave1:/opt/hadoop/hadoop3.3.1/etc/hadoop</p>
<p>scp hadoop-env.sh slave1:/opt/hadoop/hadoop3.3.1/etc/hadoop</p>
<p>scp workers slave1:/opt/hadoop/hadoop3.3.1/etc/hadoop</p>
</blockquote>
<p>现在启动hadoop集群</p>
<p>==首次==启动hadoop先在三台虚拟机进行格式化（启动hadoop成功之后就不要再格式化了！！！否则会导致数据节点不一致运行不了！！！）</p>
<blockquote>
<p>hdfs namenode -format</p>
</blockquote>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408202753468.png" class="" title="image-20230408202753468">

<p>启动hadoop，所有虚拟机都要在线</p>
<blockquote>
<p>start-all.sh</p>
</blockquote>
<p>如果报错的话</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408203327296.png" class="" title="image-20230408203327296">

<p>解决方法：三台机子/opt/hadoop/hadoop3.3.1/sbin路径下文件</p>
<p>添加在顶部</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># start-dfs.sh，stop-dfs.sh插入</span></span><br><span class="line">HDFS_DATANODE_USER=root</span><br><span class="line">HADOOP_SECURE_DN_USER=hdfs</span><br><span class="line">HDFS_NAMENODE_USER=root</span><br><span class="line">HDFS_SECONDARYNAMENODE_USER=root</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># start-yarn.sh，stop-yarn.sh插入</span></span><br><span class="line">YARN_RESOURCEMANAGER_USER=root</span><br><span class="line">HADOOP_SECURE_DN_USER=yarn</span><br><span class="line">YARN_NODEMANAGER_USER=root</span><br></pre></td></tr></tbody></table></figure>

<p>分别在master机、slave机执行 jps命令</p>
<blockquote>
<p>jps</p>
</blockquote>
<p>master</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408203706043.png" class="" title="image-20230408203706043">

<p>slave</p>
<img src="/.com//04/08/%E6%B5%8B%E8%AF%95new/image-20230408203753494.png" class="" title="image-20230408203753494">

<p>现在可以在浏览器查看</p>
<p>输入网址master:9870（或者ip:9870）</p>
<p>如果网址成功访问，那么hadoop部署成功</p>
</body></html>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop is-hidden-mobile article-nav-prev">
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/2023/04/08/1/"></a>
            
        </span>
    </div>
    
</article>


<div class="sharebox">
    
<div class="notification is-danger">
    You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.
</div>

</div>



<div class="comments">
    <h3 class="title is-4">评论</h3>
    
<script>
    var disqus_config = function () {
        this.page.url = 'http://example.com/2023/04/08/%E6%B5%8B%E8%AF%95new/';
        this.page.identifier = '2023/04/08/测试new/';
        
        this.language = 'zh';
        
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + '阿萨' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>

    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2023 zxhy&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" target="_blank" rel="noopener" href="https://github.com/zxhyWM">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery > p > .gallery-item').unwrap();
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="站内搜索" />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>